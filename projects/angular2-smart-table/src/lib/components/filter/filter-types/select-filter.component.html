<!-- select-filter.component.html -->
<div class="filter-wrapper">
  <!-- Single Select Mode -->
  <select aria-label="Filter options"
          *ngIf="!config.multiSelect" 
          [ngClass]="inputClass"
          [value]="query"
          (change)="onValueChanged($any($event.target).value)">
      <option value="">{{ config.selectText ?? 'Select...' }}</option>
      <option *ngFor="let option of config.list" [value]="option.value">
        {{ option.title }}
      </option>
  </select>
  
  <!-- Multi Select Mode -->
  <div *ngIf="config.multiSelect" class="multi-select-container">
    <button type="button" 
            class="multi-select-trigger" 
            [ngClass]="inputClass"
            (click)="toggleDropdown($event)">
      {{ getSelectedText() }}
      <span class="dropdown-arrow">â–¼</span>
    </button>
    
    <div *ngIf="dropdownOpen" class="multi-select-dropdown" (scroll)="$event.stopPropagation()" (wheel)="onDropdownWheel($event)">
      <div class="dropdown-header">
        <input type="text" 
               class="search-input" 
               placeholder="Search..."
               [(ngModel)]="searchText"
               (input)="onSearchChange()"
               (click)="$event.stopPropagation()">
        <div class="action-buttons">
          <button type="button" (click)="selectAll($event)">Select All</button>
          <button type="button" (click)="clearAll($event)">Clear All</button>
        </div>
      </div>
      
      <div class="options-list" (scroll)="$event.stopPropagation()">
        <label *ngFor="let option of filteredOptions" 
               class="option-item"
               (click)="$event.stopPropagation()">
          <input type="checkbox"
                 [checked]="isSelected(option.value)"
                 (change)="toggleOption(option.value)">
          <span>{{ option.title }}</span>
        </label>
      </div>
      
      <div class="dropdown-footer">
        <button type="button" 
                class="apply-btn" 
                (click)="applyFilter($event)">
          Apply Filter
        </button>
        <button type="button" 
                class="clear-btn" 
                (click)="clearFilter($event)">
          Clear Filter
        </button>
      </div>
    </div>
  </div>
</div>